name: Discord - Issue Updates

on:
  issues:
    types:
      - opened
      - assigned
      - closed

jobs:
  notify-issues:
    runs-on: ubuntu-latest
    steps:
      - name: Notify Discord (Issues)
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        with:
          args: |
            üêû **Issue ${{ github.event.action }}**
            **Title:** ${{ github.event.issue.title }}
            **Issue #:** #${{ github.event.issue.number }}
            **By:** ${{ github.actor }}
            **Link:** ${{ github.event.issue.html_url }}
            **Labels:** ${{ join(github.event.issue.labels.*.name, ', ') }}
            **Timestamp:** ${{ github.event.issue.created_at || github.event.issue.updated_at || github.event.issue.closed_at }}